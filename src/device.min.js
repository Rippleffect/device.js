/**
 * device.js
 *
 * Provides device helpers.
 *
 * Dependencies:
 *   - jQuery 1.8.0+
 *   - Modernizr (touch and mq support)
 *
 * @author  James Halsall <james@rippleffect.com>
 * @license GPL (http://www.gnu.org/licenses/gpl-3.0.html)
 * @version 2.0.0
 *
 * @type {Object}
 */
var Device=function(a){a=$.extend({},{mq:{small:"only all and (max-width: 599px)",medium:"only all and (min-width: 600px) and (max-width: 960px)",large:"only all and (min-width: 961px)"}},a);var b=null,c=[],d=[],e={init:function(){this.updateSize(),this.initSizeListener(),this.initOrientationListener()},addSizeChangeEvent:function(a,b){b=b||!1;var d={};d.func=a,d.args=[],$.each(Array.prototype.slice.call(arguments),function(a,b){2>a||d.args.push(b)}),b===!0&&d.func.apply(this,d.args),c.push(d)},addOrientationChangeEvent:function(a,b){b=b||!1;var c={};c.func=a,c.args=[],$.each(Array.prototype.slice.call(arguments),function(a,b){2>a||c.args.push(b)}),b===!0&&c.func.apply(this,c.args),d.push(c)},runSizeChangeEvents:function(){$.each(c,function(a,b){"function"==typeof b.func&&b.func.apply(this,b.args)})},runOrientationChangeEvents:function(){$.each(d,function(a,b){"function"==typeof b.func&&b.func.apply(this,b.args)})},getSize:function(){return null===this.size&&this.updateSize(),b},getOrientation:function(){return 0===window.orientation?"portrait":"landscape"},getWidth:function(){return $(window).width()},getHeight:function(){return $(window).height()},sizeIs:function(){return-1!==$.inArray(this.getSize(),arguments)},updateSize:function(){var c=null;$.each(a.mq,function(a,b){return Modernizr.mq(b)?(c=a,!1):void 0});var d=c!=b;b=c,d&&this.runSizeChangeEvents()},initSizeListener:function(){$(window).resize(function(){e.updateSize.apply(e)})},initOrientationListener:function(){$(window).on("orientationchange",this.runOrientationChangeEvents)},getScrollTop:function(){return document.documentElement.scrollTop||document.body.scrollTop},getScrollLeft:function(){return document.documentElement.scrollLeft||document.body.scrollLeft},hasTouch:function(){return Modernizr.touch},getClickEventName:function(){return this.hasTouch()?"touchend":"click"}};return e.init(),e};
